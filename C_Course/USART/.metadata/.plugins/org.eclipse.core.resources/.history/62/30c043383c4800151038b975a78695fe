/////////////////////////////////////////////////////////////////////////
///	\file uart.c
///	\brief this is the LED hardware interface layer.
///
///	\section UartLayer Serial Layer
///
///	Author: Ronald Sousa (@Opticalworm)
/////////////////////////////////////////////////////////////////////////
#include "./MCU/LED.h"

/////////////////////////////////////////////////////////////////////////
///	\brief defines the LED pin number
/////////////////////////////////////////////////////////////////////////
#define LED_PIN	5

/////////////////////////////////////////////////////////////////////////
///	\brief	Turns on the LED
/////////////////////////////////////////////////////////////////////////
void LED_On(void)
{
	GPIOA->BSRR |= (0x00000001 << LED_PIN);
}

/////////////////////////////////////////////////////////////////////////
///	\brief	Turns off the LED
/////////////////////////////////////////////////////////////////////////
void LED_Off(void)
{
	GPIOA->BRR |= (0x00000001 << LED_PIN);
}

void LED_Toggle(void)
{

}
/////////////////////////////////////////////////////////////////////////
///	\brief	Setup the LED IO
/////////////////////////////////////////////////////////////////////////
void LED_Init(void)
{
	RCC->AHBENR |= (1<<17); // enable port A clock

	// configure port
	GPIOA->MODER |= (0x01<<10); 	// the pin as output
	GPIOA->OTYPER &= ~(1<<5); 		// set it to push-pull
	GPIOA->OSPEEDR |= (0x03<<10);	// set to 50Mhz
	GPIOA->PUPDR &= ~(0x02<<10);	// no pull up/down resistor

	LED_Off();
}
